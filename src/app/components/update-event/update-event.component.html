<div class="text-center">
    <h1>Update Event</h1>
    <h6>Select and edit the event details below & click update</h6>
</div>

<div class="row row-cols-1 row-cols-sm-2 g-3 justify-content-center">
    <div class="card shadow-sm">
        <div class="card-body">
            <form (ngSubmit)="updateEvent()" #addEventForm="ngForm">

            <div class="form-group">
                Event ID <input type="text" [(ngModel)]="eventId" class="form-control" name="eventId" placeholder="Enter event id">
            </div>
                
            <div class="form-group">
                Name <input type="text" [(ngModel)]="eventName" class="form-control" name="eventName" placeholder="Enter event name">
            </div>

            <div class="form-group">
                Capacity <input type="text" [(ngModel)]="eventCapacity" class="form-control" name="eventCapacity" placeholder="Event capacity">
            </div>
            
            <button type="submit" (click)="updateEvent()" class="btn btn-primary" name="eventUpdateSubmit">Update</button>
            </form>
        </div>
    </div>
</div>

<div class="card shadow-sm">
    <div class="card-body">
        <div class="row row-cols-1 g-3 album py-6">
            <table>
                <thead>
                    <tr>
                        <th scope="col" class="border-bottom">ID</th>
                        <th scope="col" class="border-bottom">Name</th>
                        <th scope="col" class="border-bottom">Start</th>
                        <th scope="col" class="border-bottom">End</th>
                        <th scope="col" class="border-bottom">Duration</th>
                        <th scope="col" class="border-bottom">Is Active</th>
                        <th scope="col" class="border-bottom">Capacity</th>
                        <th scope="col" class="border-bottom">Tickets Available</th>
                        <th scope="col" class="border-bottom">Category Id</th>
                        <th scope="col" class="border-bottom">Action</th>
                    </tr>
                </thead>

                <tbody>
                    <tr *ngFor="let event of events">
                        <td><b>{{ event.id }}</b></td>
                        <td>{{ event.name }}</td>
                        <td>{{ event.startDateTime | date: 'dd/MM/yyyy, h:mm a' }}</td>
                        <td>{{ event.endDateTime | date: 'dd/MM/yyyy, h:mm a' }}</td>
                        <td>{{ event.durationInMin | durationFormat }}</td>
                        <td>{{ event.isActive }}</td>
                        <td>{{ event.capacity }}</td>
                        <td>{{ event.ticketsAvailable }}</td>
                        <td>{{ event.categoryId }}</td>
                        <td> <a type="button" (click)="selectEvent(event.id, event.name, event.capacity)" class="btn btn-primary">Select</a></td>
                    </tr> 
                </tbody>
            </table>
        </div>
    </div>
</div>
